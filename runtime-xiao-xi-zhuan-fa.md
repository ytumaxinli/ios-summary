**Runtime 是如何找到实例方法的具体实现的**

> **对象间的关系**
>
> > Objective-C 是一门面向对象的语言，对象又分为 **实例对象、类对象、元类对象 **以及 **根元类对象。**它们是通过一个叫 isa 的指针来关联起来，具体关系如下图：通过上图我们可以发现：
> >
> > > **实例、类、元类 以及 根元类这些对象通过**`isa`**指针进行关联**:  实例对象通过`isa`指针找到类对象`Class`；类对象同样通过`isa`指针，找到元类对象；元类对象也是通过`isa`指针，找到根元类对象；最后，根元类对象的`isa`指针，指向自己。可以发现`NSObject`是整个消息机制的核心，绝大数对象都继承自它。
> > >
> > > **类和元类都可以通过superclass找到父类直至nil**: 当类是根类的子类的时候，类的父类的元类与类的元类的父类是同一个。根元类的的父类是根类，根类的父类为nil。
>
> **寻找流程**
>
> > 实例方法：由于实例方法存储在类对象的methodList方法表中，因此实例对象通过isa指针找到自己的类对象，然后遍历类对象的方法列表，如多找到对应的selector再通过方法表的映射关系找到对应的imp。如果找不到对应的实例方法，则会去该类的父类中进行寻找，直至在类的继承关系中找到该实例方法。也有可能直至寻找到根类依然没有找到该方法，而根类的父类为nil,此时方法的调用进入方法转发流程。
> >
> > 类方法：由于类方法的存储在元类对象的methodList方法表中，因此类对象通过isa指针找到自己的元类对象，然后遍历元类对象的方法列表，具体流程类似直至找到该类方法或者在元类的父类中寻找直至找到根类的superclass nil,然后进入方法转发阶段。



